#!/usr/bin/python
from distutils.core import setup, Extension
import sys
import os
import fnmatch

USE_CUDA = ("${USE_CUDA}".upper() == 'ON' or "${USE_CUDA}" == "1")

SOURCES = ['horus.i']
LIBRARIES = ['cv', 'cxcore', 'highgui', 'horus']

options = {
	'sources': SOURCES,
	'libraries': LIBRARIES,
	'swig_opts': ['-c++'],
	'library_dirs': ['.'],
	'include_dirs': []
}

if USE_CUDA:
	options['swig_opts'].append('-DUSE_CUDA')
	
if os.name == 'posix':
	pass
elif os.name == 'nt':
	options['include_dirs'].append('c:\\Archivos de programa\\opencv\\__include')
	options['library_dirs'].append('c:\\Archivos de programa\\opencv\\lib')
else:
	raise Exception("Unsuported platform")

horus_ext = Extension('_horus', **options)

setup(name="horus",
	  version="0.1",
	  author="Marcelo L. Mottalli",
	  ext_modules=[horus_ext],
	  py_modules=["horus"]
	)

print "Testing..."
import horus
print "OK!"
