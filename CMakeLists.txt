PROJECT(HORUS)

OPTION(USE_CUDA "Use CUDA acceleration" OFF)
IF (USE_CUDA)
	CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
	MESSAGE("Searching for CUDA support...")
	FIND_PACKAGE(CUDA)
	IF (CUDA_FOUND)
		ADD_DEFINITIONS("-DUSE_CUDA")
	ENDIF (CUDA_FOUND)
ELSE (USE_CUDA)
	CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
ENDIF (USE_CUDA)

ADD_SUBDIRECTORY(src)
ADD_SUBDIRECTORY(python_interface)

CONFIGURE_FILE(
  "${CMAKE_CURRENT_SOURCE_DIR}/cmake_uninstall.cmake.in"
  "${CMAKE_CURRENT_BINARY_DIR}/cmake_uninstall.cmake"
  IMMEDIATE @ONLY)

ADD_CUSTOM_TARGET(uninstall
  "${CMAKE_COMMAND}" -P "${CMAKE_CURRENT_BINARY_DIR}/cmake_uninstall.cmake")
